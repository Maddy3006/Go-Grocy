<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoGrocy - Find Local Street Vendors in Chennai</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 70px; /* Adjust for fixed header */
        }
        body {
            font-family: 'Poppins', sans-serif;
            padding-top: 70px; /* Add padding to account for fixed header */
        }
        .hero-section {
            min-height: calc(100vh - 70px); /* Adjust for fixed header */
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #1a472a;
        }
        
        /* Animated background */
        .animated-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            animation: float 15s infinite ease-in-out;
        }
        
        .circle:nth-child(1) {
            width: 300px;
            height: 300px;
            top: 10%;
            left: 10%;
            animation-delay: 0s;
            background: radial-gradient(circle, rgba(76, 175, 80, 0.2) 0%, rgba(76, 175, 80, 0.1) 70%, transparent 100%);
        }
        
        .circle:nth-child(2) {
            width: 500px;
            height: 500px;
            top: 60%;
            left: 70%;
            animation-delay: -2s;
            background: radial-gradient(circle, rgba(76, 175, 80, 0.15) 0%, rgba(76, 175, 80, 0.05) 70%, transparent 100%);
        }
        
        .circle:nth-child(3) {
            width: 200px;
            height: 200px;
            top: 40%;
            left: 25%;
            animation-delay: -4s;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 70%, transparent 100%);
        }
        
        .circle:nth-child(4) {
            width: 350px;
            height: 350px;
            top: 20%;
            left: 80%;
            animation-delay: -6s;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 70%, transparent 100%);
        }
        
        .circle:nth-child(5) {
            width: 450px;
            height: 450px;
            top: 70%;
            left: 5%;
            animation-delay: -8s;
            background: radial-gradient(circle, rgba(76, 175, 80, 0.1) 0%, rgba(76, 175, 80, 0.05) 70%, transparent 100%);
        }
        
        .floating-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .floating-icon {
            position: absolute;
            font-size: 24px;
            opacity: 0.5;
            animation: floatIcon 20s infinite linear;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) scale(1);
            }
            50% {
                transform: translateY(-20px) scale(1.05);
            }
        }
        
        @keyframes floatIcon {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.5;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .hero-content {
            position: relative;
            z-index: 10;
        }
        
        .search-container {
            position: relative;
            width: 100%;
            max-width: 600px;
        }
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 500;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
        .search-result-item {
            padding: 10px 16px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
        }
        .search-result-item:hover {
            background-color: #f9f9f9;
        }
        .search-result-item:last-child {
            border-bottom: none;
        }
        #map {
            height: 500px;
            width: 100%;
            border-radius: 12px;
        }
        .vendor-popup .leaflet-popup-content-wrapper {
            border-radius: 10px;
            padding: 0;
        }
        .vendor-popup .leaflet-popup-content {
            margin: 0;
            width: 250px !important;
        }
        .chat-container {
            display: none;
            height: 300px;
            z-index: 1000;
        }
        .chat-messages {
            height: 200px;
            overflow-y: auto;
        }
        .online-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
        }
        .vendor-card {
            transition: all 0.2s ease;
        }
        .vendor-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .custom-marker {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            border: 2px solid white;
            font-size: 18px;
            color: white;
            background-color: #4CAF50;
        }
        .custom-marker.offline {
            background-color: #9e9e9e;
            opacity: 0.7;
        }
        .map-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 400;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .map-control-btn {
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .map-control-btn:hover {
            background: #f0f0f0;
        }
        .leaflet-control-attribution {
            font-size: 8px !important;
        }
        .filter-pill {
            transition: all 0.2s;
        }
        .filter-pill.active {
            background-color: #4CAF50;
            color: white;
        }
        .category-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .category-card:hover {
            transform: translateY(-5px);
        }
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Mobile menu */
        .mobile-menu {
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            background: white;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: translateY(-100%);
            transition: transform 0.3s ease-in-out;
            z-index: 999;
        }
        .mobile-menu.open {
            transform: translateY(0);
        }
        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-container {
            background-color: white;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 12px;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal-container {
            transform: translateY(0);
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .modal-body {
            padding: 1.5rem;
        }
        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-end;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Fixed Header -->
    <header id="main-header" class="main-header">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                <h1 class="text-xl font-bold text-green-600">GoGrocy</h1>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#map-section" class="text-gray-700 hover:text-green-600 transition">Find Vendors</a>
                <a href="#categories" class="text-gray-700 hover:text-green-600 transition">Categories</a>
                <a href="#featured" class="text-gray-700 hover:text-green-600 transition">Featured</a>
                <a href="#about" class="text-gray-700 hover:text-green-600 transition">About</a>
                <button href="./2.2_login.html" class="bg-green-600 text-white px-4 py-2 rounded-full font-medium hover:bg-green-700 transition">Sign In</button>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-700">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu md:hidden">
        <nav class="flex flex-col space-y-4">
            <a href="#map-section" class="text-gray-700 hover:text-green-600 transition">Find Vendors</a>
            <a href="#categories" class="text-gray-700 hover:text-green-600 transition">Categories</a>
            <a href="#featured" class="text-gray-700 hover:text-green-600 transition">Featured</a>
            <a href="#about" class="text-gray-700 hover:text-green-600 transition">About</a>
            <button class="bg-green-600 text-white px-4 py-2 rounded-full font-medium hover:bg-green-700 transition w-full">Sign In</button>
        </nav>
    </div>

    <!-- Hero Section with Search -->
    <section class="hero-section">
        <!-- Animated Background -->
        <div class="animated-bg">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
        
        <!-- Floating Food Icons -->
        <div class="floating-icons">
            <span class="floating-icon" style="left: 10%; animation-duration: 15s;">üçé</span>
            <span class="floating-icon" style="left: 25%; animation-duration: 18s; animation-delay: 2s;">ü•ï</span>
            <span class="floating-icon" style="left: 40%; animation-duration: 20s; animation-delay: 5s;">ü•¨</span>
            <span class="floating-icon" style="left: 60%; animation-duration: 17s; animation-delay: 1s;">üçÖ</span>
            <span class="floating-icon" style="left: 75%; animation-duration: 22s; animation-delay: 3s;">ü•õ</span>
            <span class="floating-icon" style="left: 90%; animation-duration: 19s; animation-delay: 4s;">üç≤</span>
        </div>
        
        <div class="container mx-auto px-4 text-center hero-content">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Discover Street Vendors in Chennai</h1>
            <p class="text-xl text-white mb-8">Find local street vendors in real-time and connect directly with them.</p>
            
            <div class="search-container mx-auto">
                <div class="relative">
                    <input type="text" id="hero-search" placeholder="Search for vendors or products in Chennai..." class="w-full px-6 py-4 rounded-full border-0 shadow-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg">
                    <button class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-green-600 text-white p-2 rounded-full hover:bg-green-700 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                </div>
                <div id="hero-search-results" class="search-results"></div>
            </div>
        </div>
    </section>

    <!-- Map Section -->
    <section id="map-section" class="py-16 bg-white section">
        <div class="container mx-auto px-4">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold mb-4">Find Vendors in Chennai</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Explore our interactive map to discover street vendors across Chennai. Filter by category, check their availability, and connect with them directly.</p>
            </div>
            
            <div class="mb-6">
                <div class="flex flex-wrap gap-2 justify-center mb-4">
                    <button class="filter-pill active whitespace-nowrap px-3 py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 transition text-sm" data-category="all">All Categories</button>
                    <button class="filter-pill whitespace-nowrap px-3 py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 transition text-sm" data-category="fruits">Fruits</button>
                    <button class="filter-pill whitespace-nowrap px-3 py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 transition text-sm" data-category="vegetables">Vegetables</button>
                    <button class="filter-pill whitespace-nowrap px-3 py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 transition text-sm" data-category="dairy">Dairy</button>
                    <button class="filter-pill whitespace-nowrap px-3 py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 transition text-sm" data-category="snacks">Snacks</button>
                    <button id="filter-online" class="filter-pill whitespace-nowrap px-3 py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 transition text-sm">Online Only</button>
                </div>
                
                <div class="flex justify-center mb-6">
                    <button id="locate-me" class="px-4 py-2 rounded-lg bg-blue-100 text-blue-700 border border-blue-300 hover:bg-blue-200 transition flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        Find Vendors Near Me
                    </button>
                </div>
            </div>

            <div class="flex flex-col lg:flex-row gap-6">
                <!-- Map -->
                <div class="lg:w-2/3 bg-white rounded-xl shadow-md overflow-hidden relative">
                    <div id="map"></div>
                    <div class="map-controls">
                        <div class="map-control-btn" id="zoom-in">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg>
                        </div>
                        <div class="map-control-btn" id="zoom-out">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6" />
                            </svg>
                        </div>
                        <div class="map-control-btn" id="reset-map">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Vendor List -->
                <div class="lg:w-1/3">
                    <div class="bg-white rounded-xl shadow-md p-4">
                        <h2 class="text-xl font-semibold mb-4">Nearby Vendors</h2>
                        <div id="vendor-list" class="space-y-4 max-h-[440px] overflow-y-auto pr-2">
                            <!-- Vendor cards will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="py-16 bg-gray-50 section">
        <div class="container mx-auto px-4">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold mb-4">Browse by Category</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Explore vendors by category to find exactly what you're looking for in Chennai.</p>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Fruits Category -->
                <div class="category-card bg-white rounded-xl shadow-md overflow-hidden" data-category="fruits">
                    <div class="h-40 bg-red-100 flex items-center justify-center">
                        <span class="text-6xl">üçé</span>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Fruits</h3>
                        <p class="text-gray-600 mb-3">Fresh, seasonal fruits from local vendors.</p>
                        <button class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">Explore</button>
                    </div>
                </div>
                
                <!-- Vegetables Category -->
                <div class="category-card bg-white rounded-xl shadow-md overflow-hidden" data-category="vegetables">
                    <div class="h-40 bg-green-100 flex items-center justify-center">
                        <span class="text-6xl">ü•ï</span>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Vegetables</h3>
                        <p class="text-gray-600 mb-3">Farm-fresh vegetables for your daily needs.</p>
                        <button class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">Explore</button>
                    </div>
                </div>
                
                <!-- Dairy Category -->
                <div class="category-card bg-white rounded-xl shadow-md overflow-hidden" data-category="dairy">
                    <div class="h-40 bg-blue-100 flex items-center justify-center">
                        <span class="text-6xl">ü•õ</span>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Dairy</h3>
                        <p class="text-gray-600 mb-3">Fresh dairy products from local producers.</p>
                        <button class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">Explore</button>
                    </div>
                </div>
                
                <!-- Snacks Category -->
                <div class="category-card bg-white rounded-xl shadow-md overflow-hidden" data-category="snacks">
                    <div class="h-40 bg-yellow-100 flex items-center justify-center">
                        <span class="text-6xl">üç≤</span>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Snacks</h3>
                        <p class="text-gray-600 mb-3">Delicious street food and snacks.</p>
                        <button class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">Explore</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Vendors Section -->
    <section id="featured" class="py-16 bg-white section">
        <div class="container mx-auto px-4">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold mb-4">Featured Vendors in Chennai</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Meet some of our top-rated vendors who provide exceptional products and service in Chennai.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="featured-vendors">
                <!-- Featured vendors will be populated here -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 bg-gray-50 section">
        <div class="container mx-auto px-4">
            <div class="flex flex-col lg:flex-row items-center gap-10">
                <div class="lg:w-1/2">
                    <h2 class="text-3xl font-bold mb-4">About GoGrocy</h2>
                    <p class="text-gray-600 mb-4">GoGrocy is a platform that connects customers with local street vendors in Chennai, making it easier to find fresh, affordable groceries in your neighborhood.</p>
                    <p class="text-gray-600 mb-4">Our mission is to support local vendors while providing customers with convenient access to fresh produce and goods. We believe in building stronger communities through local commerce.</p>
                    <p class="text-gray-600 mb-6">With GoGrocy, you can:</p>
                    <ul class="space-y-2 mb-6">
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Find vendors near your location in Chennai in real-time</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Chat directly with vendors to check availability</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Browse products by category and vendor ratings</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Support local businesses in Chennai</span>
                        </li>
                    </ul>
                    <button id="learn-more-btn" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition">Learn More</button>
                </div>
                <div class="lg:w-1/2 flex justify-center">
                    <div class="relative w-full max-w-md">
                        <div class="absolute -top-4 -left-4 w-full h-full bg-green-200 rounded-xl"></div>
                        <div class="absolute -bottom-4 -right-4 w-full h-full bg-green-300 rounded-xl"></div>
                        <div class="relative bg-white p-6 rounded-xl shadow-lg">
                            <div class="flex items-center mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-600 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                                </svg>
                                <h3 class="text-2xl font-bold">Join GoGrocy Today</h3>
                            </div>
                            <p class="text-gray-600 mb-6">Start discovering local vendors and fresh produce in Chennai. Sign up now to get started!</p>
                            <div class="space-y-3">
                                <input type="text" placeholder="Full Name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                <input type="email" placeholder="Email Address" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                <button class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition">Sign Up</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">GoGrocy</h3>
                    <p class="text-gray-400">Connecting you with local street vendors in Chennai for fresh, affordable groceries.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition">Home</a></li>
                        <li><a href="#" class="hover:text-white transition">About Us</a></li>
                        <li><a href="#" class="hover:text-white transition">For Vendors</a></li>
                        <li><a href="#" class="hover:text-white transition">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            support@gogrocy.com
                        </li>
                        <li class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            +91 9876543210
                        </li>
                    </ul>
                </div>
            </div>
            <div class="mt-8 pt-6 border-t border-gray-700 text-center text-gray-400">
                <p>&copy; 2023 GoGrocy. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Chat Container -->
    <div id="chat-container" class="chat-container fixed bottom-0 right-4 w-80 bg-white rounded-t-lg shadow-lg border border-gray-300">
        <div class="bg-green-600 text-white p-3 rounded-t-lg flex justify-between items-center">
            <div class="flex items-center">
                <span id="chat-vendor-name" class="font-medium">Vendor Name</span>
                <span id="chat-vendor-status" class="ml-2 text-xs bg-green-500 px-2 py-0.5 rounded-full">Online</span>
            </div>
            <button id="close-chat" class="text-white hover:text-gray-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div id="chat-messages" class="chat-messages p-3 bg-gray-50">
            <!-- Messages will be populated here -->
        </div>
        <div class="p-3 border-t">
            <div class="flex">
                <input type="text" id="chat-input" placeholder="Type a message..." class="flex-grow px-3 py-2 border rounded-l-lg focus:outline-none focus:ring-1 focus:ring-green-500">
                <button id="send-message" class="bg-green-600 text-white px-4 py-2 rounded-r-lg hover:bg-green-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Learn More Modal -->
    <div id="learn-more-modal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="text-2xl font-bold text-gray-800">About GoGrocy</h3>
                <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="mb-6">
                    <h4 class="text-xl font-semibold mb-3 text-green-600">Our Mission</h4>
                    <p class="text-gray-700 mb-4">GoGrocy was founded in 2022 with a simple mission: to bridge the gap between local street vendors and customers in Chennai. We believe that street vendors are an essential part of our community and economy, providing fresh, affordable produce to neighborhoods across the city.</p>
                    <p class="text-gray-700 mb-4">Our platform aims to empower these small business owners by giving them digital visibility while making it easier for customers to discover and connect with them.</p>
                </div>
                
                <div class="mb-6">
                    <h4 class="text-xl font-semibold mb-3 text-green-600">How It Works</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-center mb-2">
                                <span class="inline-block bg-green-100 text-green-600 p-3 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                </span>
                            </div>
                            <h5 class="font-medium text-center mb-1">Find</h5>
                            <p class="text-gray-600 text-sm text-center">Discover vendors near you using our interactive map or search by product.</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-center mb-2">
                                <span class="inline-block bg-green-100 text-green-600 p-3 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                    </svg>
                                </span>
                            </div>
                            <h5 class="font-medium text-center mb-1">Connect</h5>
                            <p class="text-gray-600 text-sm text-center">Chat directly with vendors to check product availability and prices.</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-center mb-2">
                                <span class="inline-block bg-green-100 text-green-600 p-3 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                                    </svg>
                                </span>
                            </div>
                            <h5 class="font-medium text-center mb-1">Shop</h5>
                            <p class="text-gray-600 text-sm text-center">Visit the vendor to purchase fresh, local products directly.</p>
                        </div>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h4 class="text-xl font-semibold mb-3 text-green-600">Benefits for Customers</h4>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Access to fresh, locally sourced produce</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Competitive prices compared to supermarkets</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Support for local businesses and community</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Convenience of finding vendors in real-time</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Reduced environmental impact through local sourcing</span>
                        </li>
                    </ul>
                </div>
                
                <div class="mb-6">
                    <h4 class="text-xl font-semibold mb-3 text-green-600">Benefits for Vendors</h4>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Increased visibility to potential customers</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Digital presence without technical knowledge</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Direct communication with customers</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Opportunity to build a loyal customer base</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            <span>Free basic listing with affordable premium options</span>
                        </li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-xl font-semibold mb-3 text-green-600">Our Future Plans</h4>
                    <p class="text-gray-700 mb-4">We're constantly working to improve GoGrocy and expand our services. Some of our upcoming features include:</p>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                            </svg>
                            <span>Pre-ordering functionality for customers</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                            </svg>
                            <span>Delivery options for select vendors</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                            </svg>
                            <span>Expansion to more cities across India</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                            </svg>
                            <span>Vendor training programs and microfinance options</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button id="close-modal-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition mr-2">Close</button>
                <button id="join-now-btn" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">Join Now</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('open');
                });
                
                // Close mobile menu when clicking on a link
                mobileMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', function() {
                        mobileMenu.classList.remove('open');
                    });
                });
            }
            
            // Generate more floating food icons dynamically
            const floatingIcons = document.querySelector('.floating-icons');
            const foodEmojis = ['üçé', 'ü•ï', 'ü•¨', 'üçÖ', 'ü•õ', 'üç≤', 'ü•î', 'üçä', 'ü•≠', 'üçá', 'ü•¶', 'üßÖ', 'ü•í', 'üçû', 'üßÄ'];
            
            for (let i = 0; i < 10; i++) {
                const icon = document.createElement('span');
                icon.className = 'floating-icon';
                icon.textContent = foodEmojis[Math.floor(Math.random() * foodEmojis.length)];
                icon.style.left = `${Math.random() * 100}%`;
                icon.style.animationDuration = `${15 + Math.random() * 10}s`;
                icon.style.animationDelay = `${Math.random() * 10}s`;
                icon.style.fontSize = `${Math.max(16, Math.random() * 30)}px`;
                floatingIcons.appendChild(icon);
            }
            
            // Sample vendor data for Chennai
            const vendors = [
                {
                    id: 1,
                    name: "Ravi's Fresh Fruits",
                    category: "fruits",
                    location: [13.0827, 80.2707], // T Nagar
                    online: true,
                    rating: 4.8,
                    closingTime: "8:00 PM",
                    products: ["Mangoes", "Bananas", "Oranges", "Grapes"],
                    image: "üçé",
                    description: "Offering the freshest seasonal fruits sourced directly from local farms.",
                    area: "T Nagar"
                },
                {
                    id: 2,
                    name: "Lakshmi Vegetables",
                    category: "vegetables",
                    location: [13.0569, 80.2425], // Mylapore
                    online: true,
                    rating: 4.5,
                    closingTime: "7:30 PM",
                    products: ["Tomatoes", "Potatoes", "Onions", "Carrots"],
                    image: "ü•ï",
                    description: "Farm-fresh vegetables harvested daily for maximum freshness and nutrition.",
                    area: "Mylapore"
                },
                {
                    id: 3,
                    name: "Kumar Dairy",
                    category: "dairy",
                    location: [13.0878, 80.2785], // Anna Nagar
                    online: false,
                    rating: 4.2,
                    closingTime: "6:00 PM",
                    products: ["Milk", "Curd", "Paneer", "Butter"],
                    image: "ü•õ",
                    description: "Traditional dairy products made fresh daily using age-old techniques.",
                    area: "Anna Nagar"
                },
                {
                    id: 4,
                    name: "Priya's Snack Corner",
                    category: "snacks",
                    location: [13.0500, 80.2121], // Adyar
                    online: true,
                    rating: 4.7,
                    closingTime: "9:00 PM",
                    products: ["Samosas", "Pakoras", "Chaat", "Pani Puri"],
                    image: "üç≤",
                    description: "Delicious street food snacks prepared with authentic recipes and flavors.",
                    area: "Adyar"
                },
                {
                    id: 5,
                    name: "Ganesh Fruit Stall",
                    category: "fruits",
                    location: [13.1067, 80.2206], // Perambur
                    online: false,
                    rating: 4.0,
                    closingTime: "7:00 PM",
                    products: ["Mangoes", "Watermelons", "Papayas", "Pineapples"],
                    image: "üçâ",
                    description: "Specializing in tropical fruits with the sweetest flavors and best quality.",
                    area: "Perambur"
                },
                {
                    id: 6,
                    name: "Anand Vegetable Market",
                    category: "vegetables",
                    location: [13.0418, 80.2341], // Besant Nagar
                    online: true,
                    rating: 4.6,
                    closingTime: "8:30 PM",
                    products: ["Spinach", "Cauliflower", "Broccoli", "Cucumber"],
                    image: "ü•¨",
                    description: "Wide variety of fresh vegetables at affordable prices.",
                    area: "Besant Nagar"
                },
                {
                    id: 7,
                    name: "Chennai Dairy Farm",
                    category: "dairy",
                    location: [13.0617, 80.2606], // Alwarpet
                    online: true,
                    rating: 4.4,
                    closingTime: "7:00 PM",
                    products: ["Fresh Milk", "Yogurt", "Cheese", "Ghee"],
                    image: "üßÄ",
                    description: "Premium dairy products from our own farm with no preservatives.",
                    area: "Alwarpet"
                },
                {
                    id: 8,
                    name: "Madras Street Food",
                    category: "snacks",
                    location: [13.0732, 80.2369], // Nungambakkam
                    online: true,
                    rating: 4.9,
                    closingTime: "10:00 PM",
                    products: ["Bajji", "Vada", "Bonda", "Murukku"],
                    image: "üç≤",
                    description: "Authentic Chennai street food favorites made with traditional recipes.",
                    area: "Nungambakkam"
                }
            ];

            // Initialize map
            let map = null;
            let markerGroup = null;
            let markers = {};
            let userMarker = null;
            let selectedVendorId = null;

            // Initialize map when the map section becomes visible
            function initMap() {
                if (map) return; // Map already initialized
                
                // Chennai coordinates
                const chennaiCenter = [13.0827, 80.2707]; // Chennai center coordinates
                
                map = L.map('map', {
                    zoomControl: false,
                    attributionControl: true,
                    scrollWheelZoom: true,
                    maxZoom: 18,
                    minZoom: 10,
                    preferCanvas: true
                }).setView(chennaiCenter, 12); // Set view to Chennai with appropriate zoom level

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
                    maxZoom: 18,
                    tileSize: 512,
                    zoomOffset: -1
                }).addTo(map);

                markerGroup = L.layerGroup().addTo(map);
                addMarkersToMap();

                // Map controls
                document.getElementById('zoom-in').addEventListener('click', function() {
                    map.zoomIn();
                });

                document.getElementById('zoom-out').addEventListener('click', function() {
                    map.zoomOut();
                });

                document.getElementById('reset-map').addEventListener('click', function() {
                    map.setView(chennaiCenter, 12); // Reset to Chennai center
                    selectedVendorId = null;
                    highlightVendorInList(null);
                });

                // Locate me functionality
                document.getElementById('locate-me').addEventListener('click', function() {
                    if (navigator.geolocation) {
                        this.disabled = true;
                        this.innerHTML = `
                            <svg class="animate-spin h-5 w-5 text-blue-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                        `;
                        
                        navigator.geolocation.getCurrentPosition(
                            function(position) {
                                const userLocation = [position.coords.latitude, position.coords.longitude];
                                
                                // Remove previous user marker if exists
                                if (userMarker) {
                                    map.removeLayer(userMarker);
                                }
                                
                                // Add a marker for user's location
                                userMarker = L.marker(userLocation, {
                                    icon: L.divIcon({
                                        html: `<div style="background-color: #3b82f6; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 10px rgba(0,0,0,0.3);"></div>`,
                                        className: '',
                                        iconSize: [20, 20]
                                    })
                                }).addTo(map);
                                
                                userMarker.bindPopup('You are here').openPopup();
                                map.setView(userLocation, 15);
                                
                                // Reset button
                                document.getElementById('locate-me').disabled = false;
                                document.getElementById('locate-me').innerHTML = `
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Find Vendors Near Me
                                `;
                            },
                            function(error) {
                                alert('Unable to get your location. Please check your browser permissions.');
                                document.getElementById('locate-me').disabled = false;
                                document.getElementById('locate-me').innerHTML = `
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Find Vendors Near Me
                                `;
                            }
                        );
                    } else {
                        alert('Geolocation is not supported by your browser.');
                    }
                });
            }

            // Create custom marker icon
            function createCustomMarker(vendor) {
                return L.divIcon({
                    html: `<div class="custom-marker ${!vendor.online ? 'offline' : ''}">${vendor.image}</div>`,
                    className: '',
                    iconSize: [36, 36]
                });
            }

            // Add markers to map
            function addMarkersToMap() {
                if (!map) return;
                
                // Clear existing markers
                markerGroup.clearLayers();
                markers = {};

                vendors.forEach(vendor => {
                    if (shouldShowVendor(vendor)) {
                        const marker = L.marker(vendor.location, {
                            icon: createCustomMarker(vendor)
                        });

                        // Create popup content
                        const popupContent = `
                            <div class="p-0">
                                <div class="bg-${vendor.online ? 'green' : 'gray'}-100 p-3 border-b">
                                    <div class="flex justify-between items-center">
                                        <h3 class="font-bold text-lg">${vendor.name}</h3>
                                        <span class="text-sm ${vendor.online ? 'bg-green-500' : 'bg-gray-500'} text-white px-2 py-0.5 rounded-full">
                                            ${vendor.online ? 'Online' : 'Offline'}
                                        </span>
                                    </div>
                                    <div class="flex items-center mt-1">
                                        <div class="flex items-center text-amber-500">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span class="ml-1">${vendor.rating}</span>
                                        </div>
                                        <span class="mx-2 text-gray-400">‚Ä¢</span>
                                        <span class="text-gray-600">${vendor.area}</span>
                                        <span class="mx-2 text-gray-400">‚Ä¢</span>
                                        <span class="text-gray-600">Closes at ${vendor.closingTime}</span>
                                    </div>
                                </div>
                                <div class="p-3">
                                    <h4 class="font-medium mb-1">Available Products:</h4>
                                    <div class="flex flex-wrap gap-1 mb-3">
                                        ${vendor.products.map(product => `
                                            <span class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded">${product}</span>
                                        `).join('')}
                                    </div>
                                    <button class="chat-btn w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition" data-vendor-id="${vendor.id}">
                                        Chat with Vendor
                                    </button>
                                </div>
                            </div>
                        `;

                        const popup = L.popup({
                            closeButton: true,
                            className: 'vendor-popup',
                            maxWidth: 300
                        }).setContent(popupContent);

                        marker.bindPopup(popup);
                        marker.on('click', function() {
                            selectedVendorId = vendor.id;
                            highlightVendorInList(vendor.id);
                        });

                        markers[vendor.id] = marker;
                        markerGroup.addLayer(marker);
                    }
                });
            }

            // Filter variables
            let searchTerm = '';
            let selectedCategory = 'all';
            let onlineOnly = false;

            // Check if vendor should be shown based on filters
            function shouldShowVendor(vendor) {
                // Check search term
                const matchesSearch = 
                    !searchTerm || 
                    vendor.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    vendor.products.some(product => product.toLowerCase().includes(searchTerm.toLowerCase())) ||
                    vendor.area.toLowerCase().includes(searchTerm.toLowerCase());
                
                // Check category
                const matchesCategory = selectedCategory === 'all' || vendor.category === selectedCategory;
                
                // Check online status
                const matchesOnline = !onlineOnly || vendor.online;
                
                return matchesSearch && matchesCategory && matchesOnline;
            }

            // Populate vendor list
            function renderVendorList() {
                const vendorListContainer = document.getElementById('vendor-list');
                if (!vendorListContainer) return;
                
                vendorListContainer.innerHTML = '';
                
                const filteredVendors = vendors.filter(shouldShowVendor);
                
                if (filteredVendors.length === 0) {
                    vendorListContainer.innerHTML = `
                        <div class="text-center py-4 text-gray-500">
                            No vendors match your search criteria.
                        </div>
                    `;
                    return;
                }
                
                filteredVendors.forEach(vendor => {
                    const vendorCard = document.createElement('div');
                    vendorCard.className = `vendor-card bg-white border ${selectedVendorId === vendor.id ? 'border-green-500' : 'border-gray-200'} rounded-lg p-4 transition duration-300`;
                    vendorCard.dataset.vendorId = vendor.id;
                    vendorCard.innerHTML = `
                        <div class="flex justify-between items-start">
                            <div class="flex items-center">
                                <div class="text-3xl mr-3">${vendor.image}</div>
                                <div>
                                    <h3 class="font-medium">${vendor.name}</h3>
                                    <div class="flex items-center mt-1">
                                        <span class="online-dot ${vendor.online ? 'bg-green-500' : 'bg-gray-400'}"></span>
                                        <span class="text-sm text-gray-600">${vendor.online ? 'Online' : 'Offline'}</span>
                                        <span class="mx-2 text-gray-400">‚Ä¢</span>
                                        <div class="flex items-center text-amber-500">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span class="ml-1 text-sm">${vendor.rating}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right">
                                <span class="text-sm text-gray-600">${vendor.area}</span>
                                <div class="text-sm text-gray-600">Closes ${vendor.closingTime}</div>
                            </div>
                        </div>
                        <div class="mt-3">
                            <div class="text-sm text-gray-600 mb-1">Products:</div>
                            <div class="flex flex-wrap gap-1">
                                ${vendor.products.slice(0, 3).map(product => `
                                    <span class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded">${product}</span>
                                `).join('')}
                                ${vendor.products.length > 3 ? `<span class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded">+${vendor.products.length - 3} more</span>` : ''}
                            </div>
                        </div>
                        <div class="mt-3 flex justify-between">
                            <button class="view-on-map-btn text-sm text-blue-600 hover:text-blue-800" data-vendor-id="${vendor.id}">
                                View on Map
                            </button>
                            <button class="chat-btn text-sm bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition" data-vendor-id="${vendor.id}">
                                Chat
                            </button>
                        </div>
                    `;
                    vendorListContainer.appendChild(vendorCard);

                    // Add click event to the vendor card
                    vendorCard.addEventListener('click', function(e) {
                        // Don't trigger if clicking on a button
                        if (!e.target.closest('button')) {
                            const vendorId = parseInt(this.dataset.vendorId);
                            selectedVendorId = vendorId;
                            highlightVendorInList(vendorId);
                            focusVendorOnMap(vendorId);
                        }
                    });
                });

                // Add event listeners to "View on Map" buttons
                document.querySelectorAll('.view-on-map-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const vendorId = parseInt(this.getAttribute('data-vendor-id'));
                        focusVendorOnMap(vendorId);
                    });
                });

                // Add event listeners to chat buttons
                document.querySelectorAll('.chat-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const vendorId = parseInt(this.getAttribute('data-vendor-id'));
                        openChat(vendorId);
                    });
                });
            }

            // Populate featured vendors
            function renderFeaturedVendors() {
                const featuredContainer = document.getElementById('featured-vendors');
                if (!featuredContainer) return;
                
                // Get top 3 vendors by rating
                const featuredVendors = [...vendors].sort((a, b) => b.rating - a.rating).slice(0, 3);
                
                featuredContainer.innerHTML = '';
                
                featuredVendors.forEach(vendor => {
                    const vendorCard = document.createElement('div');
                    vendorCard.className = 'bg-white rounded-xl shadow-md overflow-hidden';
                    vendorCard.innerHTML = `
                        <div class="h-40 bg-${vendor.category === 'fruits' ? 'red' : vendor.category === 'vegetables' ? 'green' : vendor.category === 'dairy' ? 'blue' : 'yellow'}-100 flex items-center justify-center">
                            <span class="text-6xl">${vendor.image}</span>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-xl font-semibold">${vendor.name}</h3>
                                <span class="inline-flex items-center text-amber-500">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg>
                                    <span class="ml-1">${vendor.rating}</span>
                                </span>
                            </div>
                            <div class="text-sm text-gray-600 mb-2">${vendor.area}, Chennai</div>
                            <p class="text-gray-600 mb-3">${vendor.description}</p>
                            <div class="flex flex-wrap gap-1 mb-4">
                                ${vendor.products.map(product => `
                                    <span class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded">${product}</span>
                                `).join('')}
                            </div>
                            <div class="flex justify-between">
                                <button class="view-on-map-btn px-3 py-1 border border-blue-600 text-blue-600 rounded hover:bg-blue-50 transition" data-vendor-id="${vendor.id}">
                                    View on Map
                                </button>
                                <button class="chat-btn bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition" data-vendor-id="${vendor.id}">
                                    Chat
                                </button>
                            </div>
                        </div>
                    `;
                    featuredContainer.appendChild(vendorCard);
                });

                // Add event listeners to buttons
                featuredContainer.querySelectorAll('.view-on-map-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const vendorId = parseInt(this.getAttribute('data-vendor-id'));
                        document.getElementById('map-section').scrollIntoView({ behavior: 'smooth' });
                        setTimeout(() => {
                            focusVendorOnMap(vendorId);
                        }, 1000);
                    });
                });

                featuredContainer.querySelectorAll('.chat-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const vendorId = parseInt(this.getAttribute('data-vendor-id'));
                        openChat(vendorId);
                    });
                });
            }

            // Highlight selected vendor in the list
            function highlightVendorInList(vendorId) {
                document.querySelectorAll('.vendor-card').forEach(card => {
                    if (parseInt(card.dataset.vendorId) === vendorId) {
                        card.classList.add('border-green-500');
                        card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    } else {
                        card.classList.remove('border-green-500');
                    }
                });
            }

            // Focus on vendor on map
            function focusVendorOnMap(vendorId) {
                if (!map) initMap();
                
                const marker = markers[vendorId];
                if (marker) {
                    selectedVendorId = vendorId;
                    map.setView(marker.getLatLng(), 15);
                    marker.openPopup();
                    highlightVendorInList(vendorId);
                }
            }

            // Apply filters and update UI
            function applyFilters() {
                addMarkersToMap();
                renderVendorList();
                updateSearchResults();
            }

            // Search functionality
            const heroSearchInput = document.getElementById('hero-search');
            const heroSearchResults = document.getElementById('hero-search-results');

            function setupSearch(searchInput, searchResults) {
                if (!searchInput || !searchResults) return;
                
                searchInput.addEventListener('input', function() {
                    searchTerm = this.value.trim();
                    updateSearchResults(searchResults);
                    
                    if (searchTerm.length > 0) {
                        searchResults.style.display = 'block';
                    } else {
                        searchResults.style.display = 'none';
                        applyFilters();
                    }
                });

                searchInput.addEventListener('focus', function() {
                    if (searchTerm.length > 0) {
                        searchResults.style.display = 'block';
                    }
                });
            }

            setupSearch(heroSearchInput, heroSearchResults);

            document.addEventListener('click', function(e) {
                if (!heroSearchInput.contains(e.target) && !heroSearchResults.contains(e.target)) {
                    heroSearchResults.style.display = 'none';
                }
            });

            function updateSearchResults(resultsContainer = heroSearchResults) {
                if (!resultsContainer) return;
                
                resultsContainer.innerHTML = '';
                
                if (searchTerm.length === 0) {
                    resultsContainer.style.display = 'none';
                    return;
                }
                
                const matchingVendors = vendors.filter(vendor => 
                    vendor.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    vendor.products.some(product => product.toLowerCase().includes(searchTerm.toLowerCase())) ||
                    vendor.area.toLowerCase().includes(searchTerm.toLowerCase())
                );
                
                if (matchingVendors.length === 0) {
                    resultsContainer.innerHTML = `
                        <div class="p-3 text-gray-500 text-center">No results found</div>
                    `;
                } else {
                    matchingVendors.forEach(vendor => {
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.innerHTML = `
                            <div class="flex items-center">
                                <span class="text-xl mr-2">${vendor.image}</span>
                                <div>
                                    <div class="font-medium">${vendor.name}</div>
                                    <div class="text-xs text-gray-500">${vendor.area}, Chennai ‚Ä¢ ${vendor.products.join(', ')}</div>
                                </div>
                            </div>
                        `;
                        resultItem.addEventListener('click', function() {
                            heroSearchInput.value = vendor.name;
                            searchTerm = vendor.name;
                            resultsContainer.style.display = 'none';
                            
                            // Scroll to map section
                            document.getElementById('map-section').scrollIntoView({ behavior: 'smooth' });
                            
                            // Initialize map if not already
                            setTimeout(() => {
                                if (!map) initMap();
                                focusVendorOnMap(vendor.id);
                                applyFilters();
                            }, 1000);
                        });
                        resultsContainer.appendChild(resultItem);
                    });
                }
            }

            // Category filter pills
            document.querySelectorAll('.filter-pill[data-category]').forEach(pill => {
                pill.addEventListener('click', function() {
                    document.querySelectorAll('.filter-pill[data-category]').forEach(p => p.classList.remove('active'));
                    this.classList.add('active');
                    selectedCategory = this.getAttribute('data-category');
                    applyFilters();
                });
            });

            // Online filter
            const onlineFilter = document.getElementById('filter-online');
            if (onlineFilter) {
                onlineFilter.addEventListener('click', function() {
                    onlineOnly = !onlineOnly;
                    this.classList.toggle('active');
                    applyFilters();
                });
            }

            // Category cards
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    selectedCategory = category;
                    
                    // Scroll to map section
                    document.getElementById('map-section').scrollIntoView({ behavior: 'smooth' });
                    
                    // Update filter pills
                    setTimeout(() => {
                        document.querySelectorAll('.filter-pill[data-category]').forEach(pill => {
                            if (pill.getAttribute('data-category') === category) {
                                pill.click();
                            }
                        });
                    }, 1000);
                });
            });

            // Chat functionality
            const chatContainer = document.getElementById('chat-container');
            const chatVendorName = document.getElementById('chat-vendor-name');
            const chatVendorStatus = document.getElementById('chat-vendor-status');
            const chatMessages = document.getElementById('chat-messages');
            const chatInput = document.getElementById('chat-input');
            const sendMessageBtn = document.getElementById('send-message');
            const closeChat = document.getElementById('close-chat');
            let currentVendorId = null;

            function openChat(vendorId) {
                const vendor = vendors.find(v => v.id === vendorId);
                if (vendor) {
                    currentVendorId = vendorId;
                    chatVendorName.textContent = vendor.name;
                    
                    if (vendor.online) {
                        chatVendorStatus.textContent = 'Online';
                        chatVendorStatus.className = 'ml-2 text-xs bg-green-500 px-2 py-0.5 rounded-full';
                    } else {
                        chatVendorStatus.textContent = 'Offline';
                        chatVendorStatus.className = 'ml-2 text-xs bg-gray-500 px-2 py-0.5 rounded-full';
                    }
                    
                    // Clear previous messages
                    chatMessages.innerHTML = '';
                    
                    // Add welcome message
                    addMessage(`Hello! Welcome to ${vendor.name} in ${vendor.area}. How can I help you today?`, 'vendor');
                    
                    // Show chat container
                    chatContainer.style.display = 'block';
                    chatInput.focus();
                }
            }

            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `mb-2 ${sender === 'user' ? 'text-right' : ''}`;
                
                const messageBubble = document.createElement('div');
                messageBubble.className = sender === 'user' 
                    ? 'inline-block bg-green-600 text-white px-3 py-2 rounded-lg max-w-[80%]'
                    : 'inline-block bg-gray-200 text-gray-800 px-3 py-2 rounded-lg max-w-[80%]';
                messageBubble.textContent = text;
                
                messageDiv.appendChild(messageBubble);
                chatMessages.appendChild(messageDiv);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function sendMessage() {
                const message = chatInput.value.trim();
                if (message) {
                    addMessage(message, 'user');
                    chatInput.value = '';
                    
                    // Simulate vendor response
                    setTimeout(() => {
                        const vendor = vendors.find(v => v.id === currentVendorId);
                        if (vendor) {
                            if (vendor.online) {
                                if (message.toLowerCase().includes('price') || message.toLowerCase().includes('cost')) {
                                    addMessage(`Our prices are very competitive. What specific product are you interested in?`, 'vendor');
                                } else if (message.toLowerCase().includes('time') || message.toLowerCase().includes('open')) {
                                    addMessage(`We're open until ${vendor.closingTime} today at our ${vendor.area} location.`, 'vendor');
                                } else if (message.toLowerCase().includes('hello') || message.toLowerCase().includes('hi')) {
                                    addMessage(`Hello! How can I help you today?`, 'vendor');
                                } else if (message.toLowerCase().includes('product') || message.toLowerCase().includes('sell')) {
                                    const productList = vendor.products.join(', ');
                                    addMessage(`We currently have: ${productList}. All fresh and of good quality!`, 'vendor');
                                } else if (message.toLowerCase().includes('location') || message.toLowerCase().includes('address')) {
                                    addMessage(`We are located in ${vendor.area}, Chennai. You can find us on the map for exact directions.`, 'vendor');
                                } else {
                                    addMessage(`Thank you for your message. I'll be happy to assist you. Feel free to ask about our products, prices, or availability.`, 'vendor');
                                }
                            } else {
                                addMessage(`This vendor is currently offline. They'll respond when they're back online.`, 'vendor');
                            }
                        }
                    }, 1000);
                }
            }

            if (sendMessageBtn) {
                sendMessageBtn.addEventListener('click', sendMessage);
            }
            
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }

            if (closeChat) {
                closeChat.addEventListener('click', function() {
                    chatContainer.style.display = 'none';
                    currentVendorId = null;
                });
            }

            // Learn More Modal Functionality
            const learnMoreBtn = document.getElementById('learn-more-btn');
            const learnMoreModal = document.getElementById('learn-more-modal');
            const closeModal = document.getElementById('close-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const joinNowBtn = document.getElementById('join-now-btn');

            if (learnMoreBtn && learnMoreModal) {
                learnMoreBtn.addEventListener('click', function() {
                    learnMoreModal.classList.add('active');
                    document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
                });
            }

            function closeLearnMoreModal() {
                if (learnMoreModal) {
                    learnMoreModal.classList.remove('active');
                    document.body.style.overflow = ''; // Re-enable scrolling
                }
            }

            if (closeModal) {
                closeModal.addEventListener('click', closeLearnMoreModal);
            }

            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', closeLearnMoreModal);
            }

            if (joinNowBtn) {
                joinNowBtn.addEventListener('click', function() {
                    closeLearnMoreModal();
                    // Scroll to the sign-up form
                    const signupForm = document.querySelector('.lg\\:w-1\\/2 .relative.bg-white');
                    if (signupForm) {
                        signupForm.scrollIntoView({ behavior: 'smooth' });
                        // Add a highlight effect to the form
                        signupForm.classList.add('ring-4', 'ring-green-300');
                        setTimeout(() => {
                            signupForm.classList.remove('ring-4', 'ring-green-300');
                        }, 2000);
                    }
                });
            }

            // Close modal when clicking outside
            learnMoreModal.addEventListener('click', function(e) {
                if (e.target === learnMoreModal) {
                    closeLearnMoreModal();
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && learnMoreModal.classList.contains('active')) {
                    closeLearnMoreModal();
                }
            });

            // Scroll animation for sections
            const sections = document.querySelectorAll('.section');
            
            function checkScroll() {
                // Animate sections
                sections.forEach(section => {
                    const sectionTop = section.getBoundingClientRect().top;
                    const sectionBottom = section.getBoundingClientRect().bottom;
                    
                    if (sectionTop < window.innerHeight * 0.8 && sectionBottom > 0) {
                        section.classList.add('visible');
                        
                        // Initialize map when map section becomes visible
                        if (section.id === 'map-section' && !map) {
                            initMap();
                            renderVendorList();
                        }
                    }
                });
            }
            
            window.addEventListener('scroll', checkScroll);
            checkScroll(); // Check on initial load
            
            // Initialize featured vendors
            renderFeaturedVendors();
            
            // Handle window resize for better map performance
            let resizeTimer;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(function() {
                    if (map) map.invalidateSize();
                }, 250);
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', function(e) {
                const mobileMenu = document.getElementById('mobile-menu');
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                
                if (mobileMenu && mobileMenu.classList.contains('open') && 
                    !mobileMenu.contains(e.target) && 
                    !mobileMenuButton.contains(e.target)) {
                    mobileMenu.classList.remove('open');
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'965a18b5b44a7feb',t:'MTc1MzU5NzkxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
